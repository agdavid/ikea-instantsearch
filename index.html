<!DOCTYPE html>
<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>IKEA Instantsearch.js</title>
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.7.4/dist/instantsearch.min.css">
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.7.4/dist/instantsearch-theme-algolia.min.css">
    <script src="https://cdn.jsdelivr.net/npm/instantsearch.js@2.7.4"></script>
  </head>
  <body>
    <h1>IKEA Items</h1>
    <div id="search-box">
      <!-- searchbox widget -->
    </div>

    <div id="current-refined-values">
      <!-- current refined values widget -->
    </div>

    <div id="clear-all">
      <!-- clear all widget -->
    </div>

    <div id="refinement-list">
      <!-- refinement list widget -->
    </div>

    <div id="hits">
      <!-- hits widget -->
    </div>

    <div id="pagination">
      <!-- pagination widget -->
    </div>

    <div id="infinite-hits">
      <!-- infinte hits widget -->
    </div>

  </body>
  <script type="text/javascript">

    const search = instantsearch({
      appId: 'ZSL0RJTCOE',
      apiKey: '3f46604e5ceef1479ae2ca58ae4f0a71',
      indexName: 'ikea'
    });

    search.addWidget(
      instantsearch.widgets.searchBox({
        container: '#search-box',
        placeholder: 'Search for products',
        poweredBy: true,
        wrapInput: true,
        cssClasses: {
          root: 'my-custom-searchbox',
          input: ['my-input', 'my-custom-input-class', 'my-form-element'],
        }
      })
    );

    search.addWidget(
      instantsearch.widgets.currentRefinedValues({
        container: '#current-refined-values',
        clearAll: false
      })
    );

    search.addWidget(
      instantsearch.widgets.clearAll({
        container: '#clear-all',
        templates: {
          link: 'Clear All'
        },
        autoHideContainer: false
      })
    )

    search.addWidget(
      instantsearch.widgets.refinementList({
        container: '#refinement-list',
        attributeName: 'categories.lvl0'
      })
    );

    search.addWidget(
      instantsearch.widgets.hits({
          container: '#hits',
          templates: {
            empty: 'No results',
            item: '<em>Product: {{name}}</em> {{type}} - {{price}}'
          }
      })
    );

    search.addWidget(
      instantsearch.widgets.pagination({
        container: '#pagination',
        maxPages: 20,
        scrollTo: false
      })
    );

    // search.addWidget(
    //   instantsearch.widgets.infiniteHits({
    //     container: '#infinite-hits',
    //     templates: {
    //       empty: 'No results',
    //       item: '<em>Product: {{name}}</em> {{type}} - {{price}}'
    //     },
    //     showMoreLabel: 'Show me more'
    //   })
    // )

    search.start();

  </script>
</html>
